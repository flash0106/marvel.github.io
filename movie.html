<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<!-- 新 Bootstrap4 核心 CSS 文件 -->
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
 
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
 
	<!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js -->
	<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
 
	<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
	<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<link rel="stylesheet" type="text/css" href="assets/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="assets/css/movie.css">
	<!--Title here-->
	<title>电影简介</title>

</head>
<body>
	<!--header-area-->
	<div id="header"></div>
    <script>
    $.get("assets/tpl/header.tpl", function(result){      
        $("#header").html(result);
    });
	</script>
	<!--caption-area-->
	<div class="caption-area">
		<div class="container-fluid">
			<div class="row no-gutters">
				<div class="col-md-12">
					<div class="mainimg" >
						<img src="assets/images/main1.jpg" alt="" width="100%">
					</div>
					<div class="caption"><p>漫 威 电 影 宇 宙</p></div>	
				</div>
			</div>
		</div>
	</div>
	<!--movie-area-->
	<div class="movie-area">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-3">
					<div class="post-movie">
						<a href="#/movie-ironman"><img src="assets/images/movie-ironman.jpg"></a>
					</div>
					<a href="#/movie-ironman"><h5>IRON MAN(2008)</h5></a>
				</div>
				<div class="col-md-3">
					<div class="post-movie">
						<a href="#/movie-captainamerica"><img src="assets/images/movie-captainamerica.jpg"></a>
					</div>
					<a href="#/movie-captainamerica"><h5>CAPTAIN AMERICA(2011)</h5></a>
				</div>
				<div class="col-md-3">
					<div class="post-movie">
						<a href="#/movie-thor"><img src="assets/images/movie-thor.jpg"></a>
					</div>
					<a href="#/movie-thor"><h5>THOR(2011)</h5></a>
				</div>
				<div class="col-md-3">
					<div class="post-movie">
						<a href="#/movie-avengers"><img src="assets/images/movie-avengers.jpg"></a>
					</div>
					<a href="#/movie-avengers"><h5>AVENGERS(2012)</h5></a>						
				</div>
			</div>
		</div>
	</div>
	<!-- 引入模板引擎js -->
	<script src="assets/js/template-web.js"></script>
	<!-- 制作模板 -->
	<script type="text/html" id="detail_template">
		<div style="height:50px;">&nbsp;</div>
		<article>
			<header>
				<div class="row no-gutters">
					<div class="col-md-3">
						{{@imgurl}}
					</div>
					<div class="col-md-9">
						<h1>{{@name}}</h1>
						<hr style=" width:100%; height: 2px; background-color:#696969">	
						<pre>{{@content}}</pre>
					</div>			                 
				</div>
			</header>
			<main>
				<div class="row no-gutters">
					<div class="col-md-12">
						<h2>剧情简介</h2>
						<hr style=" width:100%; height: 2px; background-color:#696969">	
					</div>
				</div>
				<div class="row no-gutters">
					<div class="col-md-12">
						<p>{{introduction1}}</p>
						<p>{{introduction2}}</p>
					</div>
				</div>
			</main>
		</article>
	</script>
	<!--post-area-->
	<div class="post-area">
		<div class="container-fluid" id="movie">

		</div>
	</div>
	<script>
		window.onload=function(){
			var routeView=null;//路由视图
			window.addEventListener('hashchange',function(){//监听路由变化
				var routeView=document.getElementById("movie");
				switch(location.hash){//判断路由
					case '#/movie-ironman':
						add(0);
						break;
					case '#/movie-captainamerica':
						add(1);
						break;
					case '#/movie-thor':
						add(2);
						break;
					case '#/movie-avengers':
						add(3);
						break;
					default:
						return;
				}
			})
		}

		function add(i){
			var url="assets/json/movieintro.json";
			var request=new XMLHttpRequest();
			request.open("get",url);
			request.send(null);
			request.onload=function(){
				if(request.status==200){
					var data=JSON.parse(request.responseText); 
					var res=template("detail_template",data[i]);
					document.getElementById("movie").innerHTML=res;
				}
			}
		}
	</script>
   <div id="footer"></div>
    <script>
    $.get("assets/tpl/footer.tpl", function(result){      
        $("#footer").html(result);
    });
    </script>

   
</body>
</html>